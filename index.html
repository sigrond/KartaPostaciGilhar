<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>

<div class="w3-sidebar w3-bar-block w3-card-2 w3-animate-left w3-mobile" style="display:none" id="mySidebar">
  <button class="w3-bar-item w3-button w3-large w3-green"
  onclick="w3_close()">Close &times;</button>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(1)">Strona 1 - Staty, Umiejętności</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(2)">Strona 2 - Pancerz, Bronie, PD</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(3)">Strona 3 - Ekwipunek, Monety</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(4)">Strona 4 - Ekwipunek</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(5)">Strona 5 - Alchemia</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(6)">Strona 6 - Magia Pieczęci</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(7)">Strona 7 - Magia Rytuału, Czary</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(8)">Strona 8 - Magia Rytuału, Rytuały</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(9)">Strona 9 - Magia KI</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(10)">Strona 10 - Magia Krwi</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(11)">Strona 11 - Sojusznicy</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(12)">Strona 12 - Mechanizmy</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz(13)">Strona 13 - Postacie</a>
  <a href="#" class="w3-bar-item w3-button" onclick="pokaz('KregiMagii')">Strona 14 - Kręgi Magii</a>
</div>

<div class="w3-main w3-mobile" id="main" style="-webkit-transform-origin: top left;">

<div class="w3-teal">
	<button class="w3-button w3-teal w3-xlarge" onclick="w3_open()"><i class="material-icons">menu</i><!--&#9776;--></button>
	<b>Karta Postaci Gilhar </b><i>v.0.2alpha.6</i>
</div>


<div id="actual_page"  style="width:100%; height:400%; background-color:cyan; float:left; -webkit-transform-origin: top left;"></div>

</div>

<script>
function w3_open() {
	//document.getElementById("main").style.marginLeft = "20%";
	document.getElementById("mySidebar").style.width = "20%";
	document.getElementById("mySidebar").style.display = "block";
	//document.getElementById("openNav").style.display = 'none';
	var desired_size=$("#mySidebar").width();//$(window).width()*0.2;
	console.log("open:"+desired_size);
	$("#main").css({
		"-webkit-transform": "translateX("+desired_size+"px)",
		 "-moz-transform": "translateX("+desired_size+"px)",
		 "-o-transform": "translateX("+desired_size+"px)",
		 "-ms-transform": "translateX("+desired_size+"px)"
	});
	
	var scale=$(window).width()*0.80/909;
	console.log(scale);
	$("#my_object").css({
		 "-webkit-transform": "scale("+scale+")",
		 "-moz-transform": "scale("+scale+")",
		 "-o-transform": "scale("+scale+")",
		 "-ms-transform": "scale("+scale+")"
	});
	$("#my_object").css("width", 1/scale*100+"%");
	$("#my_object").css("height", $(window).height()+"px");
}
function w3_close() {
  //document.getElementById("main").style.marginLeft = "0%";
  var desired_size=$(window).width()*(0);//przesunięcie jest względem panelu, ale samo się nie aktywuje
  console.log("close:"+desired_size);
	$("#main").css({
		"-webkit-transform": "translateX("+desired_size+"px)",
		 "-moz-transform": "translateX("+desired_size+"px)",
		 "-o-transform": "translateX("+desired_size+"px)",
		 "-ms-transform": "translateX("+desired_size+"px)"
	});
  document.getElementById("mySidebar").style.display = "none";
  //document.getElementById("openNav").style.display = "inline-block";
  var scale=$(window).width()/909;
	//console.log(scale);
	$("#my_object").css({
		 "-webkit-transform": "scale("+scale+")",
		 "-moz-transform": "scale("+scale+")",
		 "-o-transform": "scale("+scale+")",
		 "-ms-transform": "scale("+scale+")"
	});
	$("#my_object").css("width", 1/scale*100+"%");
	$("#my_object").css("height", 1/scale*100+"%");
}
function pokaz(i){
	$("#actual_page").html('<object id="my_object" type="text/html" data="'+i+'.html" style="width:100%;height:400%; -webkit-transform-origin: top left;"></object>');
	var scale=$(window).width()/909;
	console.log(scale);
	$("#my_object").css({
		 "-webkit-transform": "scale("+scale+")",
		 "-moz-transform": "scale("+scale+")",
		 "-o-transform": "scale("+scale+")",
		 "-ms-transform": "scale("+scale+")"
	});
	$("#my_object").css("width", 1/scale*100+"%");
	$("#my_object").css("height", 1/scale*100+"%");
	w3_close();
}
</script>



<!--<div id="actual_page" style="width:100%; height:100%; background-color:cyan; float:left;"></div>-->
<script>
	$("#actual_page").html('<object id="my_object" type="text/html" data="1.html" style="width:100%;height:400%; -webkit-transform-origin: top left;"></object>');
	var scale=$(window).width()/909;
	console.log(scale);
	$("#my_object").css({
		 "-webkit-transform": "scale("+scale+")",
		 "-moz-transform": "scale("+scale+")",
		 "-o-transform": "scale("+scale+")",
		 "-ms-transform": "scale("+scale+")"
	});
	$("#my_object").css("width", 1/scale*100+"%");
	$("#my_object").css("height", 1/scale*100+"%");
</script>
	
</body>
</html>
